# メルマガ管理ツール (Electron)

音声ファイルの文字起こしとメルマガ管理を行うElectronデスクトップアプリケーションです。

## 機能

- 📁 **音声ファイル管理**: mp4フォルダ内の音声ファイルを一覧表示
- 🎤 **文字起こし**: 音声ファイルを自動で文字起こし（ローカルWhisperを使用）
- ✅ **ステータス管理**: テキストファイルの存在チェック
- 📝 **メタデータ管理**: タイトル、投稿日時、各プラットフォームの投稿ステータス
- 🔍 **フィルター機能**: 文字起こし未完了や未投稿のファイルのみ表示

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. 必要なディレクトリの確認

アプリは以下のディレクトリ構造を前提としています：
- `mp4/` - 音声ファイル格納フォルダ
- `text/` - 文字起こしテキストファイル格納フォルダ
- `md/` - メルマガ記事格納フォルダ

### 3. 文字起こし機能の設定

ローカルWhisperを使用した文字起こし機能を使用します。
以下のコマンドで必要なPythonライブラリをインストールしてください：

```bash
pip install -r requirements.txt
```

**注意**: `ffmpeg`がシステムにインストールされている必要があります。
- macOS: `brew install ffmpeg`
- Linux: `sudo apt install ffmpeg` など

## 使用方法

### 開発モード

```bash
npm run dev
```

### 本番実行

```bash
npm start
```

### ビルド

```bash
npm run build
```

## アプリの使い方

1. **音声ファイル追加**: 「音声ファイルを追加」ボタンでファイルを選択
2. **文字起こし実行**: 未完了のファイルに対して「文字起こし実行」ボタンをクリック
3. **メタデータ編集**: 「編集」ボタンでタイトルや投稿ステータスを設定
4. **フィルター**: チェックボックスで表示するファイルを絞り込み

## ファイル構成

```
├── main.js                 # メインプロセス
├── package.json           # パッケージ設定
├── renderer/              # レンダラープロセス
│   ├── index.html        # メインUI
│   ├── styles.css        # スタイルシート
│   └── renderer.js       # フロントエンド処理
├── .m4a/                 # 音声ファイル
├── text/                 # 文字起こしテキスト
├── md/                   # メルマガ記事
├── metadata.json         # ファイルメタデータ
└── transcribe_audio_local.py   # ローカルWhisper文字起こしスクリプト
```

## 対応音声形式

- MP4 (.mp4)
- M4A (.m4a)
- WAV (.wav)
- MP3 (.mp3)

## 注意事項

- 文字起こし機能はローカルWhisperを使用します（完全無料、オフライン動作可能）
- 初回実行時にWhisperモデル（base、約150MB）を自動ダウンロードします
- メタデータは `metadata.json` に保存されます
- 音声ファイルは自動的に `.m4a/` フォルダにコピーされます