はい どうも こんにちは 室畑です この チャンネルでは 今流行りのAI を使って 開発未経験からでもプログラミング を学ぼうというコンセプトで 開発 の基礎知識や最新のAIツールについて お話ししていきます 今日はチャット ボットというものの作り方と 裏側 の仕組みみたいなことをちょっと 解説してみようかなと思います というのも ちょうど僕が自分の コミュニティ向けに 過去の質問 の履歴とか あとは僕が作った教材 の中から質問できるような そんな 仕組みを作ろうと思って 今さら ながら本格的に調べたんですけど その辺りを踏まえて どんな仕組み になっているかとか どこ気をつけ なきゃいけないとか どうやって 作るかみたいな そんなところを ざっと説明してみたいと思います まずチャットボットですね チャットボット って何っていうところなんですけ れども 最近導入しているサイト とかも多いんですが よくあるの が ウェブページにアクセスした ときに 何か質問をするときには ここから聞いてねみたいな感じ で 画面の右下とかにボットに質問 するみたいな そういうボタンが あって そこをクリックしてLine の会話画面みたいなものが開かれ そこで そのサイトに関する商品 なり何かトラブルなりの内容を 質問すると 自動で回答してくれる ロボット プログラムみたいなもの そのチャット形式で質問した内容 に対して 自動で応答してくれる ロボットみたいなのをチャット ボットと言ったりするんですけれども AIを使おうっていうときに 結構 真っ先に思い浮かばれがちなのが こちらのチャットボットを作り たい 導入したいみたいな そういう 企業が多いのかなと思っているん ですが 今まではあんまりちょっと 個人用途だと そんなに そもそも 与えるべき情報もないしなみたいな 感じで あんまり作ってなかった というか 調べてすらいなかったん ですけれども 今回 結構 僕のコミュニティ の中でも情報が増えてきたので 簡単に答えたり検索できるようになる といいよねと思って そのチャットボット を作ろうということで ここ数日 は調べたり作ったりしているんです けれども その裏側にある仕組み がラグというものがあります 英語で ちょっと難しいんですけど RAGと書いてラグですね これは Retrieval Augmented Generation 検索拡張 生成とか言ったりするんですけど 正式名称のほうはいいんですけど ラグっていう言葉はよくAI周り で出ていて よく皆さんが使われている 生成系AI そのChatGPTとか ジェミニ とか そういったものは 過去の 膨大な情報をもとに たくさんの 情報を事前に学習していて それ に対して 質問に対して恐らくこう だろうっていうような 割と一般論 に近しい形 不特定多数というか どんな人が質問してるかっていう 情報を与えれば ある程度はその 人にフォーカス パーソナライズ してくれるんですけど 多くは やっぱり一般的な話 普通に考える とこうだよねみたいな そういう 回答をしてくれるというような 特徴があって 良い面としては本当に どんな情報でも返してくれるんです けれども 弱点としては そもそも その情報源はどこから来てるの っていうと 本当にいろんな情報 を平均化したりとか集約したもの なので 情報源が確かではない ということがあったりとか あと はそもそもその学習してる情報 自体がちょっと古い 1 2年前まで というところだったりもするので 最新の情報に弱いっていう この 二つの弱点があるんですが それに対してラグっていう仕組み を入れると チャットGPTとかに 質問する前に データベースみたいな ものを用意しておいて そのデータベース を与えた上で質問すると 最新の 情報とか 社内 その製品とかサービス に特化した情報っていうのを返答 してくれるというふうにできる というふうに考えはできると思 うんですけれども ただ そういう 膨大な情報を一気にAIに渡して あげちゃうと AIってコンテキスト って専門用語では言うんですけど 与える知識ですね 一度に与えられる 知識の上限が設定もされてます し 知識を大量に与えると それだけ 返答にかかるコスト 時間とかお金 とかが増えちゃうので ここをうまい ことを効率化して返答してあげ なきゃというような考えが取ら れまして そのときにこのラグですね っていうものが使われたりします ようやくラグの話なんですけれども そういったところで事前に情報 データベースみたいなものを一個 まとめておいて そこに対してベクトル 化というか この情報はこういう ものだよみたいなラベル付け 作品付けみたいな 専門用語ではベクトル 化とか言ったりするんですけれども そういったものをしておいて ユーザー が何か質問したときに 膨大な データの中から これが恐らく必要 だろうというものを取ってきた 後に 周辺情報ですね 質問に関連 している情報だけ たくさんの データの中から取ってきて それと 同時にAIに聞いてあげるみたいな そんな感じの流れを取ることで もともと本来やろうとしている ところでいうと 全部の大量の図書 館のデータの中 図書館データを AIに渡して そこから返せば間違い なくデータが返ってくるんですが コストが高すぎるということなので 事前に本棚に分けられた図書館 を作っておいて 質問をするときに この本棚の中のこの本を持って きて これと一緒に質問しようみたいな そんな感じのことをすると 本数冊 分の情報だけ与えれば ほぼその 質問に該当するものが返ってくる だろうというような そんな仕組み ですね っていう感じのものなんですけど 僕の調べた範囲なので ちょっと 不正確だったら ぜひ指摘をして いただきたいんですけれども そんな イメージで ただエンジニア的に 言うと 情報を格納するのと 図書館 の本棚に分けるみたいな その辺 がわりとめんどくさいというか ちょっと触ったことないものが 多かったりとか あと分類の仕方 とか仕組みも結構選択肢があって もうどうしようかなと思って ちょっと やりたくないなと思って避けて いたところもあるんですけれども ちょうど僕が今 このチャットボット 作ろうと思ったタイミングで Gemini API Googleが出してるほうで ファイル サーチっていう仕組みが もともと あったのか分かんないですけど ここ 数日出てきたのかなっていう のがあって そちらを使うと 今 言ったラグという仕組み 情報を 事前に与えておいて その中から 必要な情報を返すというような ところが結構簡単に作れたので お勧めですっていう そんな感じ ですね ちょっとエンジニア的な 知識とかAPIキーとか その辺が必要 なんですけど 僕の場合で言うと Googleのサイトで アトラスを使ってるん ですけど Googleのドキュメント サイト ファイルサーチっていうのは こういうもんだよとか こういう コードで作れるよっていうのを 全部書いてあるページがあるので そこでチャットGPTに聞きながら これどうやって作ればいいですか っていうのをやり取りしたら 結構 簡単にチャットボットができちゃ ったので かなりこれお勧めですね しかも一度登録しておいたら キー みたいなものが キーというか名前 か ファイルサーチネームみたいな ものが発行されて その名前と あと はGemini API Google AI Studioで発行 できる文字列 APIキーっていうの があるんですけど それの二つさえ あれば もうすぐにチャットボット 特定の質問に対して返答をして くるような仕組みが簡単に作れた ので 結構これは かなりいいんじゃない かなっていうふうに思います やっぱり先ほどのデータを保存 する でベクトル化するみたいなところ インデックス化とかもあるのかな が かなりハードルだったんですけど そこを非常に簡単に登録できる ようにしてくれた仕組みが出て きたので こちらですね とりあえず お勧めですよっていう話を最終的 にしたかったんですが とにかく 今日言いたかったのは チャット ボットっていう仕組みがあって それを作るためにはラグという 図書館の中から情報を 必要な情報 質問に関連した情報に関する本 を持ってきて その本と一緒に AIに質問してあげるみたいな そういう 仕組みが必要なんですが それを Geminiファイルサーチというもので 簡単に作れましたという そんな 話でございました ちょうど僕の コミュニティのメンバーさん限定 のページになっちゃうんですけれども 今 それで作ったチャットボット が動き始めているので ぜひ分かんない ことがあったら ボットに聞いて あげて 回答をぜひもらってみて ください 僕も初めて作ったので どんな挙動になっているかっていう のは まだまだ あとどんな質問 が来るかっていうのがまだ予想 できていないので この質問したら 回答来ませんでしたとか そういうこと があったら教えていただきたい のと ちょっとボットもっといろいろ 作りたいんで 自分のチャットボット 作りたいよという方がいたら ぜひ ぜひお気軽にご相談ください 結構 これは相当ハードル低くできます し 費用も与えるデータ次第ですけど そんなにかからないので もちろん 無料ではできないんですけれども そこまで大きくはかからないほう いいので ぜひぜひご相談ください ということで ちょっと長くなっちゃいました が 今日はチャットボットの作り方 と実際に作った流れということ を紹介させていただきました ということで 今回は以上です 本日 も聞きくださいまして ありがとうございました
