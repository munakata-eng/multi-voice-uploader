はい どうも こんにちは むなかたです このチャンネルでは 今流行りの AI を使って 開発未経験からでも プログラミングを学ぼうという コンセプトで 開発の基礎知識や 最新の AI ツールについてお話し していきます 今日は普段 ウェブサイトとかで 入力しているパスワードですね あいつがちゃんと管理されてる のみたいな そんな裏側の話をして いこうかなと思います 結構 世間ではパスワードが流出 しましたみたいな話があるんです けれども そんな簡単に盗まれる ほど 何でしょうね ゆるい管理を しているのかというと ほとんど 基本的にはそうではなくて 本当に 一瞬の隙をついて盗まれている のかなと思うんですけれども そもそものパスワードをどうやって サービス側のデータベースですね 基本的には そこに保存されている かという そんな流れを紹介して いきたいと思います まず順を追って説明していくと まず ウェブページで入力された パスワードっていうのは 一旦 そのまま管理しているサーバー ですね っていうのにすっと送られます 送るときに ちょっと前に簡単に 紹介したんですけれども 暗号化 というのがされていないと この 時点でもう丸見えになっちゃうん ですけれども ウェブページがhttps から始まっているような暗号化 されているサイトであれば まず ここで送る時点では盗まれることは ないというようなところですね この辺は過去に紹介したSSLとか HTTPとhttpsって何が違うのみたいな その辺りでも解説したんですけれども 基本的にはこのhttpsから始まっている ところであれば まずサーバーまでは 問題なく送られるかなというところ になります サーバーに送られた パスワードは そのままデータベース に保存しちゃうと データベース に何かしらハッキングというか 脆弱性が見つかったときに パスワード がまるっと流出しちゃうっていう のがあるので 必ず特定のルール に従って変換をするというような 処理が間に入ります 一般的には エンコード エンコードじゃない ハッシュ化か ハッシュ化って言 ったりして 一方向ですね 特定の ルールに従って変換した結果は こちらですっていうような変換 はできるんですけど その変換を 元に戻しますっていうのが難しい ような技術になっているので 仮に このハッシュ化されたパスワード が流出したとしても 元々のパスワード をそこから予測するっていうのは かなり難しいものになります さらに このハッシュ化するときには ソルト 日本語で言うと塩ですね 塩を少々加えて 元々のパスワード にさらに特定のルールに従って 何かしら文字列を付け足したもの をさらにハッシュ化するという ようなことをすると さらに元々 その複合 元々のパスワードを 予測するのが難しいっていう技術 なんですけれども さらにソルト とかいうものを加えることによって より一層元のパスワードを推測 することが難しくなるというところ なので このハッシュ化された ものが流出したとしても そう簡単に パスワードは見えないようには なっています ただ 変換したパスワード しか保存してないのに 新規登録 のときにパスワードを保存して 今言ったソルトとかハッシュとか いう変換を加えたものを保存して いるんですけど じゃあ 次 入力 したときのパスワードと違うじゃない かと言われるんですけれども 思われるかもしれないんですけれども 次 入力されたときも同じ手順で 変換をしたものと事前に保存された ものを比較することで この人 同じパスワードを使ってるねという のをチェックするという そんな 流れになっております なので 基本 的にはパスワードっていうのを 管理するときには こういう変換 がされているし もし結構AIプログラミング でいうと あんまりパスワードを 管理するものを自分で作るのは お勧めはしないんですけれども 自分で作る場合は今言ったところ は全部 押さえた上で作るという のが大前提になります よりいろんな 変換を加えた上で保存するっていう ところも大事になってきたりは するんですけど ソルトだけじゃなくて ペッパー 胡椒も加えるみたいな ことがあったりとか 変換を何回 も重ねるとか そういうこともあった りするんですけれども 基本は今 言ったように まず HTTPSですね サイト をちゃんと暗号化した 今だったら 逆にほぼ自動でやってくれるんです けれども そういうサイトで公開 するっていうのがまず大前提なの と 仮にパスワードを保存するとき には今言ったように そのままは 絶対に保存しないでハッシュ化 ということを行って保存しましょう という そんなところが重要になって きますし 自分が使うサイト上では そういうような処理が裏側でされている のがほとんど 多分ほとんどやってる と思うんですけれども だということ を覚えておいてもらえればなと思います ちなみにパスワードが流出する のはじゃあ何でっていうとこなんです けど 本当に多分サーバーに送ら れて変換する過程のちょっとした 合間ですね 例えばサーバーの動作 を確認するために 一旦送られて きたものは全部ログとかに出し ちゃっていると そこに丸ままの パスワードが載っちゃうことも ありますし 一時的に処理するために メモリ上に載ったりみたいなところ で 一瞬サーバー上に記録される 瞬間があったりするので おそらく そういうところを突いて盗まれる のではないかなとは思うんですけ れども ちょっと僕自身そこまで セキュリティーの専門家ではない ので ハッキングする側も相当高い 技術力を持って攻撃をしてくる ときは攻撃してくるので 完全に 今言ったハッシュ化とか そのあたり がそれだったら絶対大丈夫とは 言い切れないんですけれども ある 程度 流出したとしてもリスクを 下げれるような実装がされている よということをきょうはお伝え したかった そんな回になります ということで 今回はパスワード の保存の裏側について紹介をしました もし 自分で作るぞとなったとき には 最低限 ぜひ押さえていただき たいところになるので 軽く覚えて おいてもらえればなと思います それでは今回は以上になります 本日も聞きくださいましてありがとうございました
