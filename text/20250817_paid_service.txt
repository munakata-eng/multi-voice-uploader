はい どうも こんにちは 村方です このチャンネルでは 今流行りのAI を使って 開発未経験からでもプログラミング を学ぼうというコンセプトで 開発の 基礎知識や最新のAIツールについて お話ししていきます 今回は ちょっと 応用編なんですけれども AIプログラミング で課金機能を組み込もうと思った ときに避けるべき方法と お勧め というか これのほうがいいんじゃない かなっていう方法についてお話を していきます AIプログラミング で作ったサービスを課金した人に だけ使ってもらうみたいなところ ですね のイメージなんですけれども まず 避けるべきやり方 NG例っていう と サービス自体は誰でも使えます ただ トライアル期間とか 一部だけ 無料で それを超えるとじゃあ有料 課金をして 課金をすると さらに 追加の機能が使えるようになります よみたいな そんなものですね っていう のを一つのサービスの中で作る のは 実は一番めんどくさいという か 大変なので ちょっとこれは 避けたほうがいいかなと思って います 実際でいうと 例えば 最初の 何でしょうね 最初5回までは無料 だけど それ以降はお金がかかる よみたいな仕組みを作ろうと思 ったときに どんな仕組みが必要 になるかなっていうのを考えて みると まず その人が本当にその 無料分を使ったかどうか 5回なら 5回分を使ったかどうかっていう のを判断するのって 普通のサービス だと じゃあどうやってやるかな って考えてみると 大体はアカウント 登録とかログインとか そういう ものとセットになっていると思 うんですね 基本 どんなサービス でもログインさせて アカウント ごとにどんぐらい使ったかとか あとは課金 その人が課金してる かどうかっていうのをチェック するというような仕組みになっている と思うので このまずアカウント ログインの仕組みっていうのと あとは課金しているかどうかっていう のをチェックするデータベース の仕組みが必要になるのと あとは 課金したことをトリガーにして データベースに書き込むという お金が発生したところとサービス を連携する仕組みっていうのが 必要になってきて これをやった だけでとてつもないハードルと とてつもないリスク 主にセキュリティー とか そういったところっていう のになってくるので AIプログラミング で初めてプログラミングをした という方には結構地雷だらけの 仕組みになってくるので こうい った課金の組み込み方は結構 避けたほうがいいかなと思っております どうやって入れたらいいのっていう 話なんですけれども 本当に簡単 なのでいうと そもそも無料で使える サービスと有料で使えるサービス を全然別物にして 無料は無料で すぐ使えなくなるとか すぐ上限 にきちゃうようにしておいて お金 を払っていただいた方には別で ダウンロードしてもらうとか その 人用にアクティベーションコード というか 合言葉みたいなのを伝 えて それで使えるようになる とか そういうことをすると そもそも ログインっていう仕組みではなくて 課金した人に 例えばメールを送って とかになってくると ログインは 必要なくて その人に対して秘密 の合言葉とか ダウンロード用の URLを送るみたいな そんな仕組み にするのがシンプルにはなります ただ この方法だと URL リンクですね ダウンロードリンクが流出して しまったりとか 合言葉が流出して しまったりみたいなときに どう しても不正が発生しちゃうよっていう ものはどうしても発生しちゃうん ですけど ただ この辺はどっちを 選ぶかなんですけれども 最初に 言ったような仕組みだと厳密な 管理はできるんですが ユーザー のログインってことになると 少な からずメールアドレスとか ちょっと したGoogleログインとかだったら Googleに紐づいた情報とかを管理 することになるので 個人情報の 流出とか そういったセキュリティー 問題 個人情報漏洩 情報漏洩の 問題とか あとは課金の仕組みと 連動させて サービスのほうのデータ ベースに書き込むというところ になるので そこの仕組みが失敗 してしまうと お金を払ったのに 何か機能が公開されないんだけど とか あとはデータベースを使ったら 使ったで 書き込まれて 知らない 人に書き込まれて 不正に書き込まれて しまうことで 課金してないのに 有料機能が解放されたりとか そういう 穴もすごい増えちゃうので 多少 不正されてもしょうがないかな っていうレベルの中で そういった 課金システムを分離して作るっていう のがおすすめだったりはします 一つ ちょっとした解決策としては 課金機能自体は買い切りではなくて サブスク形式みたいな感じにして 毎月の月書とか 契約したタイミング で その月の合言葉みたいなのを 伝えて その合言葉を知っている 人だけが その月サービスを使える よみたいな そういう仕組みにする ことによって 多少情報が漏えい しても 1ヶ月レベルのものになる かなと思うので その辺の対処方法 もありますし 一番 この辺をこちら が何も作らなくてよいのが 実は スマートフォンのアプリとかになって きて スマホのアプリになってくる と もう有料で買った人だけがインストール できるっていうのが確実に担保 されているので 開発に関しては どうしてもハードルは上がっちゃ うんですけれども スマホアプリ を作って 僕が昔やった手段として は 無料用アプリと有料用アプリ ほとんど似たような仕組みのもの を二つ作って 無料用のアプリは すごい機能を制限して 有料用の やつは全部解放してっていうような ものを別で作ることによって この 辺の課金したかどうかっていう のをわざわざこっちでチェック する仕組みとか あと データベース で管理するとかいうリスクを完全に 取っ払って公開ができたので コツ としては やっぱりお金を払って もらうところと あと サービス を使えるか使えないかっていう チェックのところは分離する 課金 するところを外に出して 相手に 伝える情報としてはメールで伝える とか あとは一番最初に参加して もらったら 例えばDiscordの招待 リンクみたいなのを発行して そっちで詳しいやり取りをする とか そういうふうに完全に自分 で作るのではなくて 既存の別の 仕組みですね 課金なら課金で 例えばストライプっていう仕組み があったりするので そこで商品 を作って 例えば買った人に対して メールを送るようにするとか そういう 自前で作るところと そう でないところを分けて そこを 何かしら 多少手動が入っても よいのかなとは思うんですけど メールとか 個別で連絡するとか そういうところでくっつけるという ようなことをすると 無駄なリスク を負わなくてよいですし 不正された 分で困るのはこっちなんですけど 情報が流出しちゃうと困るのは 責任をもっともっと負わなきゃ いけなくなったりするので 課金 に関してでいうと そういう作り方 が最初はお勧めかなと思います もちろんがっちり作れて不正されない のがベストではあるんですけど 最初 開発経験が少ないタイミング でいうと 自分でどこまで作って どこは既存の仕組みを使うかという ようなのを分離して考えるっていう のを癖づけるといいかなと思います おそらくAIに聞くと この仕組み とこの仕組みとこの仕組みを組み 合わせて 自分で作れますよみたいな そんなことを言われるとは思うん ですけど 一度立ち止まってレベル 感とかリスクとかを考えて柔軟 に仕組みを組み合わせて作れる ようになるといいのかなと思って おります ということで 今回は AIプログラミング で作ったサービスと課金機能を 組み合わせる そんなコツとやっちゃ いけないことについて紹介させて いただきました 今回もお聞きください まして ありがとうございました
