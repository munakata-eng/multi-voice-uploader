はい、どうもこんにちは、むなかたです。 このチャンネルでは今流行りのAIを使って 開発未経験からでもプログラミングを学ぼうというコンセプトで 開発の基礎知識や最新のAIツールについてお話ししていきます。 今回はですね、正規表現というそんなワードですね、 について紹介してみようかなと思います。 エンジニアで言うとすごいたくさん使うんですけど、 多分エンジニアじゃないとなかなか効かないかなというところなんですけれども、 これを使いこなせるようになると結構いろんなデータチェックとかですね、 データ取得のときに役に立つので、ぜひぜひ覚えていってもらえればと思います。 まず正規表現というのは何かというと、 特定のパターンにマッチしているかどうかをチェックするための表現ですね。 特定のパターンというのは何かというと、 例えば、あから始まってんで終わる用語を全部抽出しましょうみたいな、 アンパンマンみたいな、そんな感じですね。 そういう感じのルールを書ける書き方になっていて、 いろんな表現ができて、 例えば数字だけで構成されているものとかですね、 この文字の次に絶対にこの文字が入るとか、 この文字は入らないとか、 そういうことをですね、 記号ですね、いろんな記号、 米印とか、 あとだったらドットとかですね、 あとは傘みたいなやつとかですね、 いろんなマークを使って表現するという方法になります。 具体的なやつはですね、ぜひ調べていただいたりとか、 AIに聞いてみていただくといろんなパターンが出てくるんですけれども、 実際の活用のタイミングですね、 というのは何かというと、 まず一つが何かユーザー、 自分の作ったウェブページとかで入力をしてもらうときに、 特定のルールにそぐわないものは弾くみたいな、 そういうときに簡単にというか結構有効だったりします。 一番わかりやすいので言うと、 メールアドレスですね、が入っているかどうかのチェックって、 いろんなパターンがあるんですけど、 一応シンプルなやり方としては、 数字と英語と記号が最初にいくつかあって、 その後にアットマークがあって、 その後にまた数字か記号か英語、 最後のところはドットとか何かしら入っているみたいな、 そういうですね、ルールがあると思うんですね。 メールアドレスっていうのはこういう形になっていて、 なんちゃらかんちゃらアットマークgmail.comみたいな感じで、 アットがあって後半は絶対にドットが入るみたいな、 そういうルールを指定して、 それにそのルールから外れている場合は、 これは正しくない入力ですよっていう形で、 弾くことができるというような仕組みになっています。 一番プログラミング以外でもですね、 身近に使える場所で言うと、 Googleフォームですね、 っていうのを皆さん使われている方もいらっしゃるかなと思うんですけれども、 その部分のですね、 回答のチェックじゃないや、 何だったかな、ちょっと今見ますね。 回答の検証っていうところがあって、 この中に正規表現っていうところがあるんですね。 ここで例えばこれだと正規表現で、 例えばメールアドレスの書き方以外はNGにするとか、 数字だけしか入れちゃダメとかですね。 NFTとかにやられている方だと、 コレットアドレスっていうのは、 0xから始まる42桁かな、 しかも数字とAからFまでしか使ってない文字列だよみたいな感じで、 そういう形で何か回答の形式が決まっているときに 制限するために使うっていうのが、 一番身近な使い方かなとは思います。 これが一つ目ですね。 もう一つプログラムで使うときには、 膨大なメッセージ、テキストの中から、 特定の部分だけを抽出するために使います。 具体的に何ができるかっていうと、 前日、昨日か、話したスクレイピングっていうのをしたときに、 取得するデータっていうのは、 htmlっていうタグで囲われたような、 たくさんの文字の塊になってくるんですけれども、 その中から特定の場所を取ってくるときに、 この正規表現っていうのに非常にお世話になる形になります。 例えば、divっていうタグの後から、 次のdivを閉じるまでの間の文字列を取ってくるとか、 もっと複雑になってくると、 クラス名がヘッダーって書かれたdivの中から、 そのタグの中身を持ってくるとかですね。 そういう形で、乱雑に書かれたとか複雑に書かれた中から、 特定の場所を引っ張ってくるみたいな。 そんなためにも正規表現っていうのが使われたりしますね。 結構、使える場面では非常に使えるんですけれども、 書き方がかなり難しいので、 AIが出る前って正規表現を考えるのもなかなか難しかったんですけれども、 今は割とAIとやりとりすると、 こういう条件の文字列を抽出したいよとか、 チェックしたいよっていう風にすると、 割といい感じに作ってくれるので、 かなり使いやすくはなったかなとは思います。 ただ、逆に正規表現に頼りすぎなくてもいい場面も 結構あったりして、 必要なのは何度も何度も同じルールでチェックしたいときだけになっていて、 例えばWebページのHTMLっていうもので書かれた中から、 一箇所だけ取りたいんだったら、 普通に検索して目で見て持ってきたらいいんですけれども、 同じような構成がたくさん続くときに、 それらの中身をまとめて取りたいみたいな。 そういうときには正規表現というものを活用すると、 非常に取りやすいことになるので、 そういうときには使えるかなと思います。 これも何でしょうね。 僕の場合だと正規表現を使わないで、 テキストエディターにまとめて貼って、 特定の文字列で検索して、 そこの部分以外を一旦消してみたいな感じで、 地道にやったりはするんですけれども、 全てが全て正規表現で使えるとも限らないんですけれども、 そういう方法があるよということを知っておくだけでも、 特に複雑な入力のチェック、 メールアドレス、ウォレットアドレス、 郵便番号、電話番号みたいな、 桁数とか書かれる文字の種類とかが制限されるものに関しては、 結構有効に使えたりするので、 そういう正規表現を使ってチェックしてくださいとか。 あとはフォームを作ったときに、 AIにGoogleフォームでこういうフォームを用意したけれども、 回答の検証のところで使うための正規表現を作ってみたいなことを言うと、 ウォレットアドレスのチェックとかも作ってくれたりするので、 そういう回答系って間違った入力で来るものとか多かったりするので、 反角で書いてねって言ってるのに全角で来たりとか、 変なところにスペースが入ってたりとか、 そういうこともあったりするので、 そういう場面でぜひぜひ活用してもらえればなと思います。 何にしても正規表現という単語を知らないと使いようがないので、 今回はそういう用語があるよということを覚えてもらえればと思います。 なので今回の内容としては文字列のルールですね。 このルールに合致するかどうかをチェックするための表現である正規表現について紹介をさせていただきました。 方法としては回答を入力してもらうときのチェックに使うパターンと、 あとはすごく複雑な文字の中から特定の箇所をまとめて抽出するときの2つによく使われるので、 ぜひどこかの場面で思い出してもらえればなと思います。 ということで今回は以上になります。 本日も聞き下さいましてありがとうございました。
