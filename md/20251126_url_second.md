# URLの基礎知識（後編）〜URLパラメータって何？〜

こんにちは、むなかたです。

前回はURLの基礎知識として、
HTTPSやドメイン、
ページ構造についてお話ししました。

今回はその続編として、
URLの後半部分、
**URLパラメータ**について
解説します。

同じ内容は音声でも配信しているので、
ぜひお好きな方法でインプットして
くださいね！

## URLパラメータとは

URLの後半部分で、
**?（はてなマーク）から始まる部分**
を見たことはありませんか？

例：
```
https://google.com/search?q=AI開発&oq=AI
```

この「?」以降が
**URLパラメータ**（クエリパラメータ）
と呼ばれるものです。

### 役割

同じページを表示するけれど、
**表示する条件を指定できる**
仕組みです。

## Googleの検索結果で見る実例

Googleで検索すると、
URLは次のような形になります：

```
google.com/search?q=検索ワード&oq=...
```

### パラメータの意味

- **q**：query（問い合わせ）の略
- **検索ワード**：実際に入力した内容

このパラメータで、
「この条件で検索ページを表示してね」
と指示しているわけです。

## パラメータの書き方ルール

URLパラメータには、
明確な文法があります：

### 基本構造

```
?key=value&key2=value2&key3=value3
```

### ルール

1. **最初は?で開始**：
   パラメータの始まりを示す

2. **key=value形式**：
   キーワードと値のペア

3. **2つ目以降は&で連結**：
   複数の条件を繋げる

例：
```
/search?page=2&sort=price&category=books
```

## 実用的な活用シーン

### 1. ページネーション

旅行サイトなどで、
検索結果が複数ページに分かれている
場合：

```
?page=1  → 1ページ目
?page=2  → 2ページ目
?page=3  → 3ページ目
```

### 2. ウェブスクレイピング

特定のページから情報を
取得したい場合、

**何をしたときにURLが変わるか**

を知っておくと、
目的の情報を効率的に
取得できます。

### 3. ページ共有

同じページを共有したつもりなのに、
相手に見えるものが違う場合：

- パラメータが使われている
  → URLで状態を共有できる
- パラメータが使われていない
  → 内部的に処理している

この違いを理解していると、
トラブルシューティングに役立ちます。

### 4. ログイン後の遷移

ログイン後に元のページに戻る際、
戻り先URLがパラメータに
含まれていることがあります：

```
/login?fallback_url=/mypage
```

### 5. アフィリエイトリンク

アフィリエイトの仕組みでは、
パラメータで紹介者情報を
記録しています：

```
/product?affiliate_id=12345
```

**豆知識**：
アフィリエイトが嫌いな人は、
この後半部分を手動で削除してから
アクセスすることもできます。

## URLエンコード/デコード

### 使えない文字がある

URLでは直接扱えない文字があります：

- **日本語**
- **特殊記号**（コロン、スラッシュなど）

これらは**エンコード**という
処理で変換されます。

### エンコード例

日本語を含むURLは、
こんな形になります：

```
?q=%E3%81%82%E3%81%84%E3%81%86
```

%から始まる文字列が
並んでいますね。

### デコード方法

この謎の文字列を元に戻すには、
「URLデコード」ツールを使います。

**検索ワード**：
「URLデコード」

オンラインツールで簡単に
変換できるので、
Amazonなどの長いURLを
見たときに試してみると
面白いですよ。

「こういう風に書いてあったんだ！」
という発見があります。

## エンジニアがURLを見る理由

エンジニアやWeb3に詳しい人は、
URLを見る癖がついています。

### 分かること

- **裏側の動き**：
  どんな処理が行われているか

- **データの流れ**：
  どんな情報が送られているか

- **セキュリティ**：
  怪しい情報が含まれていないか

何をしたときに
URLのどの部分が変わるかを
観察すると、
ウェブの仕組みを理解する
良いトレーニングになります。

## 自分で作るときの注意点

### 初心者は気にしなくてOK

パラメータは、
自分で作るときには
あまり出てきません。

検索機能など、
ちょっと難しいものを作るときに
初めて登場します。

### よく使われる場面

- 検索ページ
- 並び替え機能
- フィルター機能
- ページネーション

AIに指示する際も、
「検索機能を追加して」と言えば、
自動的にパラメータを
使った実装をしてくれます。

## まとめ

今回は、URLパラメータについて
解説しました：

1. **基本構造**：
   ?key=value&key2=value2

2. **実用例**：
   検索、ページング、
   アフィリエイトなど

3. **エンコード**：
   日本語は%表記に変換される

4. **活用方法**：
   ウェブスクレイピング、
   ページ共有、デバッグに便利

今回はちょっとマニアックな
内容でしたが、
1割くらいの方には
役立つ機会があると思います。

普段使う側としては
あまり意識しませんが、
URLに「何かついているな」と
気づいたときに、

「ああ、これがパラメータか」

と思い出してもらえれば
十分です。

開発の裏側を少し理解することで、
ウェブの仕組みが
より身近に感じられるはずです。

今回は以上です。
また次回もよろしくお願いします。
