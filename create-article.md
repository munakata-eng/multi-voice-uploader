# テキストファイルからメルマガ記事を作成するカスタムコマンド

【実行モード（重要）】この記事作成以外は行わないこと。
- Context7/MCP や Web 検索は使わない（オフライン前提）。
- リポジトリ全体の探索・設計提案・追加改善提案はしない。
- 生成・保存対象は `md/` 配下の出力ファイルのみ。他ファイルは変更しない。
- 長い思考過程・計画（update_plan 等）・説明文は出力しない。不足情報は1回だけ短く質問。
- 可能ならファイルへ保存。保存できない場合は本文のみを出力。

【出力フォーマット】
- 先頭に1行だけ「書き出し先: `md/ファイル名.md`」。続けて記事本文（Markdown）のみを出力。余計な前置き・注釈は禁止。

このカスタムコマンドは、引数で指定されたテキストファイルを元に、むなかたさんのメルマガスタイルに合わせた記事を作成し、mdディレクトリに保存します。

## 実行方法

```
/create_article [テキストファイルのパス]
```

## 処理の流れ

### 1. 入力ファイルの読み込み
引数で指定されたテキストファイルを読み込み、内容を分析します。

### 2. 記事スタイルの適用
以下の過去記事スタイルに基づいて記事を構成します：

#### 基本構造
- **タイトル**: H1見出し（内容に応じた魅力的なタイトル）
- **挨拶**: 「こんにちは、むなかたです。」
- **導入**: 今回のトピックの簡潔な説明
- **音声紹介**: 「同じ内容は音声でも配信しているので、\nぜひお好きな方法でインプットしてくださいね！」
- **メインコンテンツ**: H2, H3見出しで構成
- **まとめ**: 重要ポイントの整理
- **締め**: 「今回は以上です。\nまた次回もよろしくお願いします。」

#### 文体とトーン
- **親しみやすい口調**: 敬語だが親近感のある表現
- **初心者向け**: 専門用語の説明付き
- **実践的**: 具体例と応用方法を含む
- **簡潔**: 要点を整理した分かりやすい構成

#### メルマガ記事の文字数・改行ルール
- **1行の文字数**: 全角30文字まで（半角は2文字で1文字分として計算）
- **改行**: 適度に改行を入れて読みやすさを重視
- **文字起こし活用**: 文字起こし内容をそのまま全て使用する必要はなく、適度に補足しつつ簡潔にまとめた文章にする

#### コンテンツの特徴
- **教育的価値**: AI開発や技術の基礎知識
- **実用性**: すぐに試せる内容
- **安全性**: セキュリティや注意点の明記
- **段階的学習**: 前回までの内容を踏まえた構成

### 3. ファイル名の自動生成
入力ファイル名の拡張子をtxtからmdに変更したファイル名で、ワーキングディレクトリのmdディレクトリ以下に保存します。mdディレクトリがない場合はエラーを出して終了してください。

## 処理詳細

### Step 1: ファイル読み込みとトピック分析
```
- 元テキストファイルの内容を読み込み
- 主要なトピックとキーワードを抽出
- 記事の構成要素を特定
```

### Step 2: 記事構造の作成
```
- 魅力的なタイトルを生成
- 導入部分で内容を要約
- メインコンテンツを論理的に構成
- 具体例と実践方法を追加
- セキュリティや注意点を明記
```

### Step 3: スタイル調整
```
- むなかたさんの文体に統一
- 初心者にも分かりやすい表現に調整
- 箇条書きと見出しで読みやすく整理
- コードブロックや強調を適切に配置
```

### Step 4: ファイル出力
```
- 適切なファイル名で md ディレクトリに保存
- ファイル名形式: YYYYMMDD_topic_name.md
- 既存ファイルとの重複チェック
```

## 品質基準

### 内容の品質
- **正確性**: 技術情報の正確性を確保
- **実用性**: 読者がすぐに活用できる内容
- **安全性**: セキュリティリスクの適切な説明
- **教育価値**: 段階的な学習を支援

### 文章の品質
- **読みやすさ**: 適切な改行と段落分け
- **一貫性**: 統一された文体とトーン
- **分かりやすさ**: 専門用語の説明と具体例
- **完結性**: 自己完結した内容構成

### 技術的品質
- **マークダウン形式**: 正しいマークダウン記法
- **構造化**: 適切な見出し階層
- **装飾**: 太字、リスト、コードブロックの活用
- **メタデータ**: ファイル名の統一性

## 注意事項

### セキュリティ
- 機密情報や個人情報は含めない
- セキュリティリスクについて適切に警告
- 安全な実装方法を推奨

### 著作権
- 引用する場合は適切な表記
- オリジナルコンテンツの作成
- 既存記事との重複回避

### 品質保証
- 生成後の内容確認を推奨
- 技術的な正確性のチェック
- 読みやすさの最終調整

---

このカスタムコマンドにより、一貫した品質とスタイルでメルマガ記事を効率的に作成できます。
